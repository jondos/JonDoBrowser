mk_add_options MOZ_MAKE_FLAGS="-j8"

# GDB 7.1 is the first version to support debugging PIE enabled code. If that is
# an issue disable it.
CFLAGS="-Wformat -Wformat-security -D_FORTIFY_SOURCE=2 -fstack-protector-all --param ssp-buffer-size=1 -fPIE -pie"
CXXFLAGS="${CFLAGS}"
LDFLAGS="-z relro -z now"

# We don't need tests in a release build
ac_add_options --disable-tests

# We don't want to have the crashreporter for privacy reasons
ac_add_options --disable-crashreporter
# No updater yet. Thus, we don't need to build it.
ac_add_options --disable-updater
# Not all hardening options will work then, but that's a debug build...
ac_add_options --disable-optimize
ac_add_options --enable-debug
ac_add_options --enable-debug-symbols
ac_add_options --with-branding=browser/branding/jondobrowser
# No stripping of symbols when we package the build
ac_add_options --disable-install-strip
